{% extends 'admin/base.html.twig' %}

{% block title %}Regelements index{% endblock %}

{% block body %}
<div class="container">
    <h6 class="mt-4 mb-5">Situation de Fournisseur </h6>

    <table class="table table-hover small"  border="1px">
        <thead>
            <tr class="text-center">
                <th>Id</th>
                <th>Pieces</th>
                <th>libelle</th>
                <th>fournisseur</th>
                <th>Banque</th>
                <th>Mode</th>
                <th>debit</th>
                <th>Credit</th>
                <th>observation</th>
                <th>actions</th>
            </tr>
        </thead>
        <tbody>
        {% set credit = 0 %}
        {% set debit = 0 %}
        {% for achatReg in achatRegs %}
            <tr>
                <td>{{ achatReg.id }}</td>
                <td>{{ achatReg.designation }}</td>
                <td>{{ achatReg.libelle }}</td>
                <td>{{ achatReg.fournisseur.NomComplet }}</td>
                <td>{{ achatReg.banque }}</td>
                <td> {% if achatReg.Mode is empty %}
                        null
                     {% else %}
                     {{ achatReg.Mode.modeReg   }}
                      {% endif %}
                      </td>
                <td>{{ achatReg.debit }}</td>
                <td>{{ achatReg.credit }}</td>
                <td>{{ achatReg.observation }}</td>
                <td>
                    {# <a href="{{ path('achatReg_show', {'id': achatReg.id}) }}">show</a> #}
                    {# <a href="{{ path('achatReg_edit', {'id': Regelement.id}) }}">edit</a> #}
                </td>
            </tr>
            {% set credit = credit + achatReg.credit %}
            {% set debit = debit + achatReg.debit  %}
        {% else %}
            <tr>
                <td colspan="3">no records found</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
<hr class="w-100">
<div class="row">
    <div class="col-md-7"></div>
    <div class="col-md-5">
      <table border="2px solid" class="table table-bordred small">
            <tr >
              
                <th >Total</th>
                <td>{{ debit }}</td>
                <td>{{ credit }}</td>
            </tr>
            <tr>
                <th colspan="2" class="text-center" >Solde</th>
                <td>285285</td>
            </tr>
            <tr>
                <th colspan="2" class="text-center" >IMPAYES</th>
                <td>00.00</td>
            </tr>
            <tr>
                <th colspan="2" class="text-center" >SOLDE A PAYER</th>
                <td>{{ debit - credit }}</td>
            </tr>
    </table>
    </div>
</div>
  
    {# <a href="{{ path('Regelements_new') }}">Create new</a> #}
</div>

{% endblock %}
